(function(){function setLang(lang){localStorage.setItem("preferredLanguage",lang||"es");document.dispatchEvent(new Event("DOMContentLoaded"));}
function rewrite(a){a.addEventListener("click",function(e){e.preventDefault();var href=(a.getAttribute("href")||"").toLowerCase();var lang=a.getAttribute("data-lang")|| (href.includes("index_en")?"en":href.includes("index_pt")?"pt":href.includes("index_de")?"de":href.includes("index_fr")?"fr":"es");setLang(lang);console.info("[WSs] Lang set:",lang);});a.setAttribute("href","#");}
document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll('a[href*="index_en"],a[href*="index_pt"],a[href*="index_de"],a[href*="index_fr"]').forEach(rewrite);document.querySelectorAll('a[href*="/lang/"]').forEach(rewrite);["es","en","pt","de","fr"].forEach(function(code){var b=document.getElementById("lang-"+code);if(b){b.addEventListener("click",function(e){e.preventDefault();setLang(code);});b.setAttribute("href","#");}});});})();